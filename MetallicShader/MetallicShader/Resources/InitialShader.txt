#include <metal_stdlib>
#import <simd/simd.h>
using namespace metal;

typedef struct {
    matrix_float4x4 modelMatrix;
    matrix_float4x4 viewMatrix;
    matrix_float4x4 projectionMatrix;
} Uniforms;

struct VertexIn {
    float4 position [[ attribute(0) ]];
};

vertex float4 vertex_main() {
    float4 position = projection *
                    uniforms.viewMatrix *
                    uniforms.modelMatrix *
                    vertex_in.position;
    return position;
}

fragment float4 fragment_main() {
    return float4(0, 0.4, 0.21, 1);
}
